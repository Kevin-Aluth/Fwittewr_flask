{% extends 'base.html' %}

{% block title %}
<title>Home: posts</title>
{% endblock %}

{% block body %}
<div class="mx-auto">
    {% for post in posts %}
    <div class="col-12">
        <figure>
            <figcaption class="blockquite-footer">
                <b>{{ post.user.username }}</b> <br>
                {{ post.creation_date.strftime('%d/%m/%Y, %H:%M') }}
            </figcaption>
            {% if post.title %}
            <p class="display-4">{{ post.title }}</p>
            {% endif %}
            <p class="blockquote">{{ post.content }}</p>

            <button onclick="like_post(this, '{{ post.id }}')" style="background-color:transparent; border:0px">
                {% if current_user in post.liked_users %}
                    <img style="width: 30px" src="{{ url_for('static', filename='icons/heart-fill.svg') }}" alt="">
                {% else %}
                    <img style="width: 30px" src="{{ url_for('static', filename='icons/heart.svg') }}" alt="">
                {% endif %}
                <span>{{ post.liked_users|length }}</span>
            </button>
            <a href="{{ url_for('home.show_post_comments', id=post.id) }}" style="text-decoration: none; border:0px; color: black">
                <img style="width: 30px" src="{{ url_for('static', filename='icons/chat.svg') }}" alt="">
                <span>{{ post.comments|length }}</span>
            </a>
        </figure>
        <hr>
    </div>
    {% endfor %}
</div>
{% endblock %}
